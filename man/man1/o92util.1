.TH O92UTIL 1 "March 2021" "Version 2021.03.01" "User Manuals"

.SH NAME
o92util \- compute fault-generated deformation in an elastic half-space

.SH SYNOPSIS
.P
.B o92util
.BI -ffm|-fsp|-mag|-flt " fault_file"
.B [-fn|-pt]
.BI [-empirical " empirical_relation" ]
.BI -sta " station_file"
.B |
.BI "-auto h" " depth number"
.B |
.BI "-auto v" " azimuth number"
.BI -trg " target_file"
.BI [-haf " halfspace_file" ]
.BI -disp|-strain|-stress|-estress|-shear|-normal|-coul " defm_file"
.B [...]

.SH DESCRIPTION
.B o92util
computes deformation generated by point or rectangular fault sources embedded
in an elastic half-space using the equations of Okada (1992). It can produce
displacements, strains, stresses, and resolved stresses. Note that depths are
defined positive down, while displacements, strains, and stresses have z defined
positive up.

For the
.BR -mag ,
.BR -flt ", and"
.BR -tns 
input options, blank lines and lines starting with "#" or ">" are ignored.
For the
.B -sta
option, blank lines and lines starting with "#" or ">" are ignored,
and are not printed to the output file.

.SH OPTIONS
.TP
.B ----- INPUTS - FAULTS -----

.TP
.BI -ffm " fault_file"
Finite fault model in USGS param format (Hayes, 2017; https://earthquake.usgs.gov)

.TP
.BI -fsp " fault_file"
Finite fault model in SRCMOD FSP format (http://equake-rc.info)

.TP
.BI -mag " fault_file"
Fault file:
.IR "evlo evla evdp(km) strike dip rake magnitude" .
If using finite sources, the
.I magnitude
is converted using the specified empirical relation.

.TP
.BI -flt " fault_file"
Fault file:
.I evlo evla evdp(km) strike dip rake slip(m) width(km)
.IR length(km) ,
where
.I width
is the down-dip dimension and
.I length
is the along-strike dimension

.TP
.BI -tns " tensile_file"
Tensile source file:
.I evlo evla evdp(km) strike dip opening(m) width(km)
.IR length(km) ,
where
.I opening
is positive for volume increase,
.I width
is the down-dip dimension, and
.I length
is the along-strike dimension.
NOTE: THIS OPTION IS IN DEVELOPMENT AND MAY CHANGE AT ANY TIME!

.TP
.B -fn|-pt
Treat faults as finite rectangular (default) or point sources

.TP
.BI -empirical " WC" | MB | B | YM | AH
Choose the empirical relation for earthquake magnitude and slip, width, and length (default is
.IR WC ).
The options are
.IR W "ells and " C oppersmith
(1994),
.IR M "ai and " B eroza
(2000),
.IR B "laser et al"
(2010),
.IR Y "en and " M a
(2011), and
.IR A "llen and " H "ayes (2017)."

.TP
.BI -thr " thr"
Set all faults with
.IR slip_magnitude < slip_threshold
to have
.IR slip_magnitude =0.
If
.I thr
is positive, then
.IR slip_threshold = thr "*max(" slip_magnitude ).
If
.I thr
is negative, then
.IR slip_threshold "=abs(" thr ).


.TP
.B ----- INPUTS - TARGETS/RECEIVERS -----

.TP
.BI -sta " station_file"
Locations to compute deformation:
.I stlo stla stdp(km)

.TP
.BI "-auto h" " depth number"
Automatically generate a horizontal grid of points to calculate deformation on.
The
.I depth
of the plane is in km and
.I number
indicates the number of grid points per dimension.

.TP
.BI "-auto v" " azimuth number"
Automatically generate a vertical grid of points through the centroid of the
input faults to calculate deformation on.
The
.I azimuth
of the plane is in degrees clockwise from north and
.I number
indicates the number of grid points per dimension.

.TP
.BI -auto:thr " disp_threshold"
Set displacement magnitude threshold for defining limits of automatic grids
in meters (default: 0.001 meters).

.TP
.BI -trg " target_file"
Target fault parameters:
.IR "strike dip rake friction".
If
.I target_file
has one line, all locations have the same target parameters. If
.I target_file
has the same number of entries as
.IR station_file ,
then target fault parameters correspond to matching station coordinate.

.TP
.B ----- INPUTS - HALF-SPACE -----

.TP
.BI -haf " halfspace_file"
Optional file to define half-space elastic moduli. The default values
are
.IR lame "=40e9 Pa and " shearmod "=40e9 Pa."
This file has the following format:
.IR "modulus1 value1 modulus2 value2" ,
where
.I modulus
can be "lame", "shearmod", "poisson", or "young" and
.I value
is the value in Pa.


.TP
.B ----- OUTPUTS -----

.TP
.BI -disp " output_file"
Displacement:
.I stlo stla stdp(km) disp_e(m) disp_n(m) disp_v(m)

.TP
.BI -strain " output_file"
Strain tensor components:
.I stlo stla stdp(km) exx eyy ezz exy exz eyz

.TP
.BI -stress " output_file"
Stress tensor components:
.I stlo stla stdp(km) sxx(Pa) syy(Pa) szz(Pa) sxy(Pa) sxz(Pa) syz(Pa)

.TP
.BI -estress " output_file"
Effective (maximum) shear stress:
.IR "stlo stla stdp(km) estre(Pa)" .
This is the second invariant of the deviatoric stress tensor.

.TP
.BI -shear " output_file"
Shear stress resolved onto target geometry (requires
.IR target_file ):
.IR "stlo stla stdp(km) shear(Pa) shearmax(Pa)" .
The first value is the shear traction projected onto the fault slip vector
and the second is the  maximum shear traction on the target plane.

.TP
.BI -normal " output_file"
Normal stress resolved onto target geometry (requires
.IR target_file ):
.IR "stlo stla stdp(km) normal(Pa)" .
Positive indicates dilation.

.TP
.BI -coul " output_file"
Coulomb stress
.IR "" ( coul
=
.I shear
+
.I friction
*
.IR normal )
resolved onto target geometry (requires
.IR target_file ):
.I stlo stla stdp(km) coulomb(Pa)


.TP
.B ----- OTHER OPTIONS -----

.TP
.BI -parallel " [nthreads]"
Run deformation calculation in parallel (if
.B o92util
was compiled with OpenMP).
Default uses all available threads.
Argument
.I nthreads
specifies the number of threads to use.


.TP
.B -geo
Treat input and output coordinates
.IR "" ( evlo ", " evla ", " stlo ", " stla )
as geographic (default).

.TP
.B -xy
Treat input and output coordinates
.IR "" ( evlo ", " evla ", " stlo ", " stla )
as Cartesian (km) instead of geographic.
.I Strike
angle is still defined clockwise from north.


.TP
.B -az
Convert displacement output from
.I disp_e disp_n disp_z
to
.IR "hor_disp_az hor_disp_mag disp_z" .

.TP
.B -prog
Print deformation progress to the terminal.

.TP
.BI -v " [level]"
Run in verbose mode, printing progress to standard output.
.I Level
from 1 (low, default) to 3 (high) controls amount of output.

.TP
.BI -debug " [routine]"
Run in debugging mode, printing messages to standard output.
The argument
.I routine
defines the subroutine to debug, or you can indicate "all".
There is significant overlap between debugging and verbose
level 3, especially for I/O.



.SH REFERENCES
.TP
Allen, T.I., Hayes, G.P. (2017).
Alternative Rupture-Scaling Relationships for Subduction Interface and Other Offshore Environments.
Bulletin of the Seismological Society of America 107, 1240-1253.
.TP
Blaser, L., Kruger, F., Ohrnberger, M., Scherbaum, F. (2010).
Scaling relations of earthquake source parameter estimates with special focus on subduction
environment.
Bulletin of the Seismological Society of America 100, 2914-2926.
.TP
Hayes, G.P. (2017).
The finite, kinematic rupture properties of great-sized earthquakes since 1990.
Earth and Planetary Science Letters 468, 94-100.
.TP
Mai, P.M., Beroza, G.C. (2000).
Source scaling properties from finite-fault-rupture models.
Bulletin of the Seismological Society of America 90, 604-615.
.TP
Okada, Y. (1992).
Internal deformation due to shear and tensile faults in a half-space.
Bulletin of the Seismological Society of America 82, 1018-1040.
.TP
Wells, D.L., Coppersmith, K.J. (1994).
New empirical relationships among magnitude, rupture length, rupture width, rupture area,
and surface displacement.
Bulletin of the Seismological Society of America 84, 974-1002.
.TP
Yen, Y.T., Ma, K.F. (2011).
Source-scaling relationship for M4.6-8.9 earthquakes, specifically for earthquakes
in the collision zone of Taiwan.
Bulletin of the Seismological Society of America 101, 464-481.

.RS
